<div class="container-sm flex items-center justify-center flex-1 py-12">
  <div class="card w-full">
    <div class="card-body">
      <h1 class="text-3xl font-bold text-center text-primary mb-8">Verify Email</h1>

      <% if @user.email && !@user.verified? %>
        <div class="alert-info mb-6">
          <p class="text-sm">We've sent a verification email to <strong><%= @user.email %></strong>. Please check your inbox and click the verification link.</p>
        </div>

        <%= button_to "Re-send verification email", identity_email_verification_path, class: "btn-ghost w-full" %>
      <% else %>
        <%= form_with model: @user, url: identity_email_path, method: :patch, local: true, class: "space-y-6" do |form| %>
          <%= render 'shared/form_error_message', model: @user %>

          <div>
            <%= form.label :email, class: "form-label" do %>
              New Email Address
            <% end %>
            <%= form.email_field :email, required: true, autofocus: true, autocomplete: "email", class: "form-input" %>
          </div>

          <div class="pt-2">
            <%= form.submit "Save changes", class: "btn-primary w-full btn-lg" %>
          </div>
        <% end %>
      <% end %>

      <div class="text-center mt-8">
        <%= link_to "Back to profile", profile_path, class: "text-primary hover:text-primary-dark underline font-medium transition-colors" %>
      </div>
    </div>
  </div>
</div>